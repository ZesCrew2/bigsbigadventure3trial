var HAPIPair=function(i,t,e){this.begin="undefined"!=typeof i?i:0,this.end="undefined"!=typeof t?t:0,this.current="undefined"!=typeof i?i:0,this.incFrame=0,this.beginFrame=0,this.endFrame=0,this.active=!1,MODE.add("HAPIPair",["VALUE","DURATION","ONEWAY","LOOP","OSCILLATE"]),this.mode="undefined"!=typeof e&&"undefined"!=typeof MODE.HAPIPair._full[e]?e:MODE.HAPIPair.VALUE,this.endMode=MODE.HAPIPair.ONEWAY,this.additional_logic=function(){}};HAPIPair.prototype={constructor:HAPIPair,set:function(i,t){return"function"==typeof i?(this.additional_logic=i,this):(this.begin=i,this.end=t,this.current=i,this)},start:function(i,t,e){if("undefined"!=typeof t&&(this.mode=t),this.begin==this.end||0==i)return this;switch(this.mode){case MODE.HAPIPair.VALUE:this.incFrame=i;break;case MODE.HAPIPair.DURATION:this.beginFrame=moveNow,this.endFrame=moveNow+i,this.incFrame=i}return this.current=this.begin,this.active=!0,"undefined"!=typeof e&&(this.endMode=e),this},stop:function(i){return this.active=!1,"undefined"==typeof i?this.begin=this.current:this.current=this.begin,this.beginFrame=0,this.endFrame=0,this.incFrame=0,this},pc:function(){return(this.current-this.begin)/(this.end-this.begin)},finished:function(){return this.begin==this.end},logic:function(){if(0==this.active)return null;switch(isNaN(this.beginFrame)&&(this.beginFrame=moveNow,this.endFrame=moveNow+this.incFrame),this.additional_logic(),this.mode){case MODE.HAPIPair.VALUE:if(this.begin>this.end){if(this.current-=calcSpeedPixel(this.incFrame),this.current<=this.end)return this.current=this.end,this.endMode==MODE.HAPIPair.OSCILLATE?this.set(this.end,this.begin).start(this.incFrame):this.endMode==MODE.HAPIPair.LOOP?this.set(this.begin,this.end).start(this.incFrame):this.stop(),!0}else if(this.begin<this.end&&(this.current+=calcSpeedPixel(this.incFrame),this.current>=this.end))return this.current=this.end,this.endMode==MODE.HAPIPair.OSCILLATE?this.set(this.end,this.begin).start(this.incFrame):this.endMode==MODE.HAPIPair.LOOP?this.set(this.begin,this.end).start(this.incFrame):this.stop(),!0;return!1;case MODE.HAPIPair.DURATION:return moveNow>=this.endFrame?(this.current=this.end,this.endMode==MODE.HAPIPair.OSCILLATE?this.set(this.end,this.begin).start(this.incFrame,this.mode):this.endMode==MODE.HAPIPair.LOOP?this.set(this.begin,this.end).start(this.incFrame,this.mode):this.stop(),!0):(this.current=this.begin+(this.end-this.begin)*((moveNow-this.beginFrame)/(this.endFrame-this.beginFrame)),!1)}}};