var HAPIMugshot=function(t){this.mugshot=void 0,this.frame=0,this.textureBank=[],this.sprite=new PIXI.Sprite,this.sprite._order=3,this.sprite.anchor={x:.5,y:1},this.opacity=new HAPIPair(0,1),this.xpos=new HAPIPair(640,640),this.ypos=new HAPIPair(512,512),this.direction=new HAPIPair(1,1),this.time=500,this._scale=1,STATE.add("HAPIMugshot",["NULL","ACTIVE"]),this.opacitystate=STATE.HAPIMugshot.NULL,this.positionstate=STATE.HAPIMugshot.NULL,this.directionstate=STATE.HAPIMugshot.NULL,MODE.add("HAPIMugshot",["NULL","ACTIVE","STARTINVISIBLE","START25PERCENT","START50PERCENT","START75PERCENT","STARTVISIBLE","TOINVISIBLE","TO25PERCENT","TO50PERCENT","TO75PERCENT","TOVISIBLE","STARTCENTER","STARTINLEFT","STARTINRIGHT","STARTOUTLEFT","STARTOUTRIGHT","STARTPARTLEFT","STARTPARTRIGHT","TOCENTER","TOINLEFT","TOINRIGHT","TOOUTLEFT","TOOUTRIGHT","TOPARTLEFT","TOPARTRIGHT","STARTDIRLEFT","STARTDIRRIGHT","TODIRLEFT","TODIRRIGHT"]),this.finished=!1,this.parentStage=t};HAPIMugshot.prototype={constructor:HAPIMugshot,destructor:function(){"undefined"==typeof this.parentStage?1==stage.checkChild(this.sprite)&&stage.removeChild(this.sprite):1==this.parentStage.checkChild(this.sprite)&&this.parentStage.removeChild(this.sprite)},setMug:function(t,s){if("undefined"==typeof loader.mugs[t]||0==loader.mugs[t].available)return!1;"number"!=typeof s&&(s=0),this.mugshot=t,this._scale=loader.mugs[this.mugshot].def.height>380?380/loader.mugs[this.mugshot].def.height:1,this.textureBank=[];for(var i=0;i<loader.mugs[this.mugshot].def.frames;i++)this.textureBank.push(new PIXI.Texture(loader.mugs[this.mugshot].img.texture.baseTexture,new PIXI.Rectangle(i*loader.mugs[this.mugshot].def.width,0,loader.mugs[this.mugshot].def.width,loader.mugs[this.mugshot].def.height)));return this.setFrame(s)},setFrame:function(t){return t>=loader.mugs[this.mugshot].def.frames||0>t?!1:void(this.sprite.texture=this.textureBank[t])},set:function(t){if("object"==typeof t){for(var s in t)this.set(t[s]);return this}switch(t){case MODE.HAPIMugshot.STARTINVISIBLE:this.opacity.begin=this.opacity.current=0;break;case MODE.HAPIMugshot.START25PERCENT:this.opacity.begin=this.opacity.current=.25;break;case MODE.HAPIMugshot.START50PERCENT:this.opacity.begin=this.opacity.current=.5;break;case MODE.HAPIMugshot.START75PERCENT:this.opacity.begin=this.opacity.current=.75;break;case MODE.HAPIMugshot.STARTVISIBLE:this.opacity.begin=this.opacity.current=1;break;case MODE.HAPIMugshot.TOINVISIBLE:this.opacity.end=0;break;case MODE.HAPIMugshot.TO25PERCENT:this.opacity.end=.25;break;case MODE.HAPIMugshot.TO50PERCENT:this.opacity.end=.5;break;case MODE.HAPIMugshot.TO75PERCENT:this.opacity.end=.75;break;case MODE.HAPIMugshot.TOVISIBLE:this.opacity.end=1;break;case MODE.HAPIMugshot.STARTCENTER:this.xpos.begin=this.xpos.current=640;break;case MODE.HAPIMugshot.STARTINLEFT:this.xpos.begin=this.xpos.current=200;break;case MODE.HAPIMugshot.STARTINRIGHT:this.xpos.begin=this.xpos.current=1080;break;case MODE.HAPIMugshot.STARTOUTLEFT:this.xpos.begin=this.xpos.current=-240;break;case MODE.HAPIMugshot.STARTOUTRIGHT:this.xpos.begin=this.xpos.current=1520;break;case MODE.HAPIMugshot.STARTPARTLEFT:this.xpos.begin=this.xpos.current=0;break;case MODE.HAPIMugshot.STARTPARTRIGHT:this.xpos.begin=this.xpos.current=1280;break;case MODE.HAPIMugshot.TOCENTER:this.xpos.end=640;break;case MODE.HAPIMugshot.TOINLEFT:this.xpos.end=200;break;case MODE.HAPIMugshot.TOINRIGHT:this.xpos.end=1080;break;case MODE.HAPIMugshot.TOOUTLEFT:this.xpos.end=-240;break;case MODE.HAPIMugshot.TOOUTRIGHT:this.xpos.end=1520;break;case MODE.HAPIMugshot.TOPARTLEFT:this.xpos.end=0;break;case MODE.HAPIMugshot.TOPARTRIGHT:this.xpos.end=1280;break;case MODE.HAPIMugshot.STARTDIRLEFT:this.direction.begin=this.direction.current=1;break;case MODE.HAPIMugshot.STARTDIRRIGHT:this.direction.begin=this.direction.current=-1;break;case MODE.HAPIMugshot.TODIRLEFT:this.direction.end=1;break;case MODE.HAPIMugshot.TODIRRIGHT:this.direction.end=-1;break;case MODE.HAPIMugshot.ACTIVE:this.opacity.begin!=this.opacity.end&&(this.opacity.start(this.time,MODE.HAPIPair.DURATION),this.finished=!1),this.xpos.begin!=this.xpos.end&&(this.xpos.start(this.time,MODE.HAPIPair.DURATION),this.finished=!1),this.direction.begin!=this.direction.end&&(this.direction.start(this.time,MODE.HAPIPair.DURATION),this.finished=!1)}return this},logic:function(){"undefined"==typeof this.parentStage?0==stage.checkChild(this.sprite)&&stage.addChild(this.sprite):0==this.parentStage.checkChild(this.sprite)&&this.parentStage.addChild(this.sprite),this.opacity.logic(),this.opacitystate=1==this.opacity.finished()?STATE.HAPIMugshot.NULL:STATE.HAPIMugshot.ACTIVE,this.sprite.alpha=this.opacity.current,this.xpos.logic(),this.ypos.logic(),this.positionstate=1==this.xpos.finished()&&1==this.ypos.finished()?STATE.HAPIMugshot.NULL:STATE.HAPIMugshot.ACTIVE,this.sprite.x=this.xpos.current,this.sprite.y=this.ypos.current,this.direction.logic(),this.directionstate=1==this.direction.finished()?STATE.HAPIMugshot.NULL:STATE.HAPIMugshot.ACTIVE,this.sprite.scale={x:this.direction.current*this._scale,y:this._scale},this.opacitystate==STATE.HAPIMugshot.NULL&&this.positionstate==STATE.HAPIMugshot.NULL&&this.directionstate==STATE.HAPIMugshot.NULL&&(this.finished=!0)},order:function(t){return"undefined"==typeof t?!1:(this.sprite._order=3+t/100,!0)}};